{% extends "base.html" %}

{% block content %}
<!-- Page Hero - Compact -->
<section class="page-hero page-hero-compact">
    <div class="container">
        <span class="section-label">{{ page.label or "What We Do" }}</span>
        <h1 class="page-title">{{ page.hero_title or "Our Solutions" }}</h1>
        <p class="page-subtitle">{{ page.hero_subtitle or "Comprehensive automation solutions tailored to your specific manufacturing needs" }}</p>
    </div>
</section>

<!-- Solutions Visual Grid -->
<section class="section solutions-showcase">
    <div class="container">
        {% set sol_images = {
            'robot': 'solutions/robotic-cells-automation.webp',
            'welding': 'solutions/welding-automation-systems.webp',
            'test': 'solutions/test-inspection-systems.webp',
            'assembly': 'solutions/assembly-automation-systems.webp',
            'custom': 'solutions/assembly-automation-systems.webp',
            'handling': 'solutions/material-handling-automation.webp',
            'vision': 'solutions/machine-vision-inspection.webp'
        } %}

        {% set sol_alts = {
            'robot': 'Custom robotic cell with industrial robot for automated manufacturing',
            'welding': 'Automated welding system with robotic welder in production environment',
            'test': 'Automated test and inspection station for quality control',
            'assembly': 'Custom automated assembly system with multi-station production line',
            'custom': 'Custom automation solution designed for specific manufacturing needs',
            'handling': 'Automated material handling system with conveyor and robotics',
            'vision': 'Machine vision inspection system with camera for quality verification'
        } %}

        {% set sol_blogs = {
            'robot': [
                {'title': 'Automation Cells vs Production Lines', 'url': '/blog/automation-cells-vs-production-lines/'},
                {'title': 'What Is Industrial Automation', 'url': '/blog/what-is-industrial-automation/'}
            ],
            'welding': [
                {'title': 'Industrial Automation Equipment Explained', 'url': '/blog/industrial-automation-equipment-explained/'},
                {'title': 'How Custom Automated Machines Are Designed', 'url': '/blog/how-custom-automated-machines-are-designed/'}
            ],
            'test': [
                {'title': 'Manufacturing Automation Systems', 'url': '/blog/manufacturing-automation-systems-concept-to-commissioning/'}
            ],
            'assembly': [
                {'title': 'Automated Assembly Machines', 'url': '/blog/automated-assembly-machines/'},
                {'title': 'Factory Automation for High-Mix Low-Volume', 'url': '/blog/factory-automation-high-mix-low-volume/'}
            ],
            'custom': [
                {'title': 'Custom vs Standard Automation Equipment', 'url': '/blog/custom-automation-vs-standard-equipment/'},
                {'title': 'How Custom Automated Machines Are Designed', 'url': '/blog/how-custom-automated-machines-are-designed/'}
            ],
            'handling': [
                {'title': 'Industrial Automation Equipment Explained', 'url': '/blog/industrial-automation-equipment-explained/'}
            ],
            'vision': [
                {'title': 'Integrating Vision Systems with Robots', 'url': '/blog/integrating-vision-systems-with-robots/'},
                {'title': 'Industrial Automation Equipment Explained', 'url': '/blog/industrial-automation-equipment-explained/'}
            ]
        } %}

        {% for sol in config.solutions %}
        <div class="solution-showcase-item {% if loop.index is odd %}layout-left{% else %}layout-right{% endif %}">
            <div class="solution-showcase-image">
                <a href="{{ config.site.base_path }}{{ sol.url }}">
                    {% set img_base = sol_images[sol.icon] | default('placeholder-card-1.svg') %}
                    {% if img_base.endswith('.webp') %}
                    {% set img_name = img_base | replace('.webp', '') %}
                    <img src="{{ config.site.base_path }}/static/images/{{ img_name }}-small.webp"
                         srcset="{{ config.site.base_path }}/static/images/{{ img_name }}-small.webp 420w,
                                 {{ config.site.base_path }}/static/images/{{ img_name }}-medium.webp 600w,
                                 {{ config.site.base_path }}/static/images/{{ img_name }}.webp 1200w"
                         sizes="(max-width: 768px) 100vw, 420px"
                         alt="{{ sol_alts[sol.icon] | default(sol.name ~ ' automation solution') }}"
                         loading="lazy" width="420" height="280">
                    {% else %}
                    <img src="{{ config.site.base_path }}/static/images/{{ img_base }}" alt="{{ sol_alts[sol.icon] | default(sol.name ~ ' automation solution') }}" loading="lazy" width="600" height="400">
                    {% endif %}
                    <div class="solution-showcase-overlay">
                        <span>Explore {{ sol.name }}</span>
                    </div>
                </a>
            </div>
            <div class="solution-showcase-content">
                <span class="solution-number">0{{ loop.index }}</span>
                <h2><a href="{{ config.site.base_path }}{{ sol.url }}">{{ sol.name }}</a></h2>
                <p class="solution-desc">{{ sol.description }}</p>
                <a href="{{ config.site.base_path }}{{ sol.url }}" class="btn btn-outline">Learn More</a>

                {% if sol_blogs[sol.icon] %}
                <div class="solution-resources">
                    <h4>Related Resources</h4>
                    <ul>
                        {% for blog in sol_blogs[sol.icon] %}
                        <li><a href="{{ config.site.base_path }}{{ blog.url }}">{{ blog.title }}</a></li>
                        {% endfor %}
                    </ul>
                </div>
                {% endif %}
            </div>
        </div>
        {% endfor %}

        <!-- Quick Contact Banner -->
        <div class="quick-contact-banner">
            <div class="banner-content">
                <div class="banner-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></svg>
                </div>
                <div class="banner-text">
                    <h4>Talk to an Engineer</h4>
                    <p>Get expert guidance on your automation project</p>
                    <span class="response-time">Replies in under 3 hours on weekdays</span>
                </div>
            </div>
            <a href="{{ config.site.base_path }}/contact/" class="btn">Contact Us Now</a>
        </div>
    </div>
</section>

<!-- All Solutions Grid -->
<section class="section section-alt">
    <div class="container">
        <div class="section-header">
            <span class="section-label">Complete Offering</span>
            <h2 class="section-title">All Solutions</h2>
        </div>
        <div class="all-solutions-grid">
            {% for sol in config.all_solutions %}
            <a href="{{ config.site.base_path }}{{ sol.url }}" class="all-solution-card">
                <span class="all-solution-name">{{ sol.name }}</span>
                <span class="all-solution-arrow">â†’</span>
            </a>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Process Section -->
<section class="section">
    <div class="container">
        <div class="section-header">
            <span class="section-label">Our Process</span>
            <h2 class="section-title">How We Work</h2>
        </div>
        <div class="process-grid-visual">
            <div class="process-step-visual">
                <div class="process-icon" style="background: var(--accent-teal);">
                    <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/></svg>
                </div>
                <div class="process-content">
                    <span class="process-num">01</span>
                    <h3>Discovery</h3>
                    <p>We analyze your manufacturing process, identify challenges, and define project requirements.</p>
                </div>
            </div>
            <div class="process-step-visual">
                <div class="process-icon" style="background: var(--accent-orange);">
                    <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 20h9"/><path d="M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z"/></svg>
                </div>
                <div class="process-content">
                    <span class="process-num">02</span>
                    <h3>Design</h3>
                    <p>Our engineers create detailed designs with 3D modeling and simulation to validate concepts.</p>
                </div>
            </div>
            <div class="process-step-visual">
                <div class="process-icon" style="background: var(--accent-teal);">
                    <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg>
                </div>
                <div class="process-content">
                    <span class="process-num">03</span>
                    <h3>Build</h3>
                    <p>We fabricate, assemble, and integrate all components in our state-of-the-art facility.</p>
                </div>
            </div>
            <div class="process-step-visual">
                <div class="process-icon" style="background: var(--accent-orange);">
                    <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>
                </div>
                <div class="process-content">
                    <span class="process-num">04</span>
                    <h3>Deploy</h3>
                    <p>Installation, commissioning, training, and ongoing support ensure your success.</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Content from markdown (if any) -->
{% if content %}
<section class="section section-alt">
    <div class="container">
        <div class="content-body content-card">
            {{ content | safe }}
        </div>
    </div>
</section>
{% endif %}

<!-- CTA Section -->
<section class="cta-section cta-accent">
    <div class="container">
        <h2>Ready to Discuss Your Project?</h2>
        <p>Let our team help you find the right automation solution for your manufacturing needs.</p>
        <a href="{{ config.site.base_path }}/contact/" class="btn btn-white btn-lg">Get a Free Consultation</a>
    </div>
</section>
{% endblock %}
